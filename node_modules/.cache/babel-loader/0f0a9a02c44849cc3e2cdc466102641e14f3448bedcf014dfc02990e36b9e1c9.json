{"ast":null,"code":"var _jsxFileName = \"/Users/yamilperez/Documents/React-NanoDegree/Employee-Polls/src/components/PollAnswer.js\",\n  _s2 = $RefreshSig$();\nimport { connect } from \"react-redux\";\nimport { useLocation, useNavigate, useParams, useEffect } from \"react-router-dom\";\nimport { handleAddQuestionAnswer } from \"../actions/questions\";\nimport { setAuthedUser } from \"../actions/authedUser\";\nimport NotFound from './404page';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst withRouter = Component => {\n  var _s = $RefreshSig$();\n  const ComponentWithRouterProp = props => {\n    _s();\n    const location = useLocation();\n    const navigate = useNavigate();\n    const params = useParams();\n    return /*#__PURE__*/_jsxDEV(Component, {\n      ...props,\n      router: {\n        location,\n        navigate,\n        params\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 16\n    }, this);\n  };\n  _s(ComponentWithRouterProp, \"G4H0N746j5KwtpeOKQjfXhEbWfg=\", false, function () {\n    return [useLocation, useNavigate, useParams];\n  });\n  return ComponentWithRouterProp;\n};\nconst PollAnswer = ({\n  dispatch,\n  router,\n  users,\n  authedUser,\n  questions\n}) => {\n  _s2();\n  const {\n    id\n  } = router.params;\n  const question = questions[id];\n  const navigate = useNavigate();\n\n  // useEffect(() => {\n  //     if (!question) {\n  //         dispatch(setAuthedUser(null));\n  //         navigate('/login');\n  //     }\n  // }, [question, dispatch, navigate]);\n\n  if (!question) return /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 27\n  }, this);\n  const {\n    optionOne,\n    optionTwo,\n    author\n  } = question;\n  const avatar = users[author].avatarURL;\n  const name = users[author].name;\n  const hasVoted = optionOne.votes.includes(authedUser) || optionTwo.votes.includes(authedUser);\n  const optionOneVotes = optionOne.votes.length;\n  const optionTwoVotes = optionTwo.votes.length;\n  const totalVotes = optionOneVotes + optionTwoVotes;\n  const optionOnePercent = totalVotes ? Math.round(optionOneVotes / totalVotes * 100) : 0;\n  const optionTwoPercent = totalVotes ? Math.round(optionTwoVotes / totalVotes * 100) : 0;\n  const handleVote = option => e => {\n    e.preventDefault();\n    dispatch(handleAddQuestionAnswer(id, option));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Poll by \", name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: avatar,\n      alt: `Avatar of ${name}`,\n      className: \"avatar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: !hasVoted ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Would You Rather\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: optionOne.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVote(\"optionOne\"),\n            children: \"Vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: optionTwo.text\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleVote(\"optionTwo\"),\n            children: \"Vote\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"You Already Voted\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar-completed\",\n            style: {\n              width: `${optionOnePercent}%`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: [\"Votes: \", optionOnePercent, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar-completed\",\n            style: {\n              width: `${optionTwoPercent}%`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visually-hidden\",\n              children: [\"Votes: \", optionTwoPercent, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n};\n_s2(PollAnswer, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = PollAnswer;\nconst mapStateToProps = ({\n  authedUser,\n  users,\n  questions\n}, props) => {\n  const {\n    id\n  } = props.router.params;\n  return {\n    id,\n    users,\n    questions,\n    authedUser\n  };\n};\nexport default withRouter(connect(mapStateToProps)(PollAnswer));\nvar _c;\n$RefreshReg$(_c, \"PollAnswer\");","map":{"version":3,"names":["connect","useLocation","useNavigate","useParams","useEffect","handleAddQuestionAnswer","setAuthedUser","NotFound","jsxDEV","_jsxDEV","Fragment","_Fragment","withRouter","Component","_s","$RefreshSig$","ComponentWithRouterProp","props","location","navigate","params","router","fileName","_jsxFileName","lineNumber","columnNumber","PollAnswer","dispatch","users","authedUser","questions","_s2","id","question","optionOne","optionTwo","author","avatar","avatarURL","name","hasVoted","votes","includes","optionOneVotes","length","optionTwoVotes","totalVotes","optionOnePercent","Math","round","optionTwoPercent","handleVote","option","e","preventDefault","className","children","src","alt","text","onClick","style","width","_c","mapStateToProps","$RefreshReg$"],"sources":["/Users/yamilperez/Documents/React-NanoDegree/Employee-Polls/src/components/PollAnswer.js"],"sourcesContent":["import { connect } from \"react-redux\";\nimport { useLocation, useNavigate, useParams, useEffect } from \"react-router-dom\";\n\nimport { handleAddQuestionAnswer } from \"../actions/questions\";\nimport { setAuthedUser } from \"../actions/authedUser\";\nimport NotFound from './404page';\n\nconst withRouter = (Component) => {\n    const ComponentWithRouterProp = (props) => {\n        const location = useLocation();\n        const navigate = useNavigate();\n        const params = useParams();\n        return <Component {...props} router={{ location, navigate, params }} />;\n    };\n    return ComponentWithRouterProp;\n};\n\nconst PollAnswer = ({ dispatch, router, users, authedUser, questions }) => {\n    const { id } = router.params;\n    const question = questions[id];\n    const navigate = useNavigate();\n\n    // useEffect(() => {\n    //     if (!question) {\n    //         dispatch(setAuthedUser(null));\n    //         navigate('/login');\n    //     }\n    // }, [question, dispatch, navigate]);\n\n    if (!question) return <NotFound />;\n\n    const { optionOne, optionTwo, author } = question;\n    const avatar = users[author].avatarURL;\n    const name = users[author].name;\n\n    const hasVoted = optionOne.votes.includes(authedUser) || optionTwo.votes.includes(authedUser);\n    const optionOneVotes = optionOne.votes.length;\n    const optionTwoVotes = optionTwo.votes.length;\n\n    const totalVotes = optionOneVotes + optionTwoVotes;\n    const optionOnePercent = totalVotes ? Math.round((optionOneVotes / totalVotes) * 100) : 0;\n    const optionTwoPercent = totalVotes ? Math.round((optionTwoVotes / totalVotes) * 100) : 0;\n\n    const handleVote = (option) => (e) => {\n        e.preventDefault();\n        dispatch(handleAddQuestionAnswer(id, option));\n    };\n\n    return (\n        <div className=\"center\">\n            <h1>Poll by {name}</h1>\n            <img src={avatar} alt={`Avatar of ${name}`} className=\"avatar\" />\n            <div>\n                {!hasVoted ? (\n                    <>\n                        <h1>Would You Rather</h1>\n                        <div>\n                            <h3>{optionOne.text}</h3>\n                            <button onClick={handleVote(\"optionOne\")}>Vote</button>\n                        </div>\n                        <div>\n                            <h3>{optionTwo.text}</h3>\n                            <button onClick={handleVote(\"optionTwo\")}>Vote</button>\n                        </div>\n                    </>\n                ) : (\n                    <>\n                        <h1>You Already Voted</h1>\n                        <div className=\"progress-bar\">\n                            <div className=\"progress-bar-completed\" style={{ width: `${optionOnePercent}%` }}>\n                                <span className=\"visually-hidden\">Votes: {optionOnePercent}%</span>\n                            </div>\n                        </div>\n                        <div className=\"progress-bar\">\n                            <div className=\"progress-bar-completed\" style={{ width: `${optionTwoPercent}%` }}>\n                                <span className=\"visually-hidden\">Votes: {optionTwoPercent}%</span>\n                            </div>\n                        </div>\n                    </>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = ({ authedUser, users, questions }, props) => {\n    const { id } = props.router.params;\n    return {\n        id,\n        users,\n        questions,\n        authedUser,\n    };\n};\n\nexport default withRouter(connect(mapStateToProps)(PollAnswer));\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}